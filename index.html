<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongolVibes | Main Website</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Fonts -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap');
    </style>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['IBM Plex Sans', 'sans-serif'],
                        display: ['IBM Plex Sans', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: {
                        brand: {
                            bg: '#09090b', // Zinc 950
                            card: '#18181b', // Zinc 900
                            accent: '#22c55e', // Green 500
                            hyper: '#db2777', // Pink 600
                            surface: '#27272a', // Zinc 800
                            border: '#3f3f46'  // Zinc 700
                        }
                    },
                    boxShadow: {
                        'offset': '4px 4px 0px 0px white',
                        'offset-accent': '4px 4px 0px 0px #22c55e',
                        'offset-hyper': '4px 4px 0px 0px #db2777',
                        'offset-hover': '2px 2px 0px 0px white',
                        'glow': '0 0 20px -5px rgba(34, 197, 94, 0.3)',
                        'card-pop': '0 10px 40px -10px rgba(0,0,0,0.5)',
                    },
                    animation: {
                        'enter-slide': 'enterSlide 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'enter-fade': 'enterFade 0.8s ease-out forwards',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        enterSlide: {
                            '0%': { opacity: '0', transform: 'translateY(20px) scale(0.98)' },
                            '100%': { opacity: '1', transform: 'translateY(0) scale(1)' },
                        },
                        enterFade: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #09090b;
            color: #e4e4e7;
            /* darker, grittier texture overlay */
            background-image: 
                radial-gradient(circle at 50% 0%, rgba(34, 197, 94, 0.05), transparent 70%),
                url('https://i.imgur.com/zz13DCW.jpeg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            font-family: 'IBM Plex Sans', sans-serif;
        }

        /* Scanline effect */
        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            background-size: 100% 3px, 3px 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.4;
        }
        
        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background-color: rgba(9, 9, 11, 0.92); /* Dark overlay over bg image */
            z-index: -1;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #09090b; }
        ::-webkit-scrollbar-thumb { background: #3f3f46; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #22c55e; }

        /* Utilities */
        .text-shadow-sm { text-shadow: 0 1px 2px rgba(0,0,0,0.5); }
        .clip-diagonal { clip-path: polygon(0 0, 100% 0, 100% 85%, 0% 100%); }
        
        /* Interactive Cards */
        .interactive-card {
            transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .interactive-card:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0px 0px rgba(255,255,255,0.1);
        }
        .interactive-card:active {
            transform: translate(0px, 0px);
            box-shadow: 0px 0px 0px 0px rgba(255,255,255,0.1);
        }

        /* Stagger Delays for Entrance (Only applied when .animate-enter class is present) */
        .animate-enter .stagger-1 { animation-delay: 0.05s; }
        .animate-enter .stagger-2 { animation-delay: 0.1s; }
        .animate-enter .stagger-3 { animation-delay: 0.15s; }
        .animate-enter .stagger-4 { animation-delay: 0.2s; }
        .animate-enter .stagger-5 { animation-delay: 0.25s; }

        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            backdrop-filter: blur(8px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .modal-overlay.active {
            display: flex;
            opacity: 1;
            align-items: center;
            justify-content: center;
        }

        /* Apple Warp Effect */
        @keyframes warp {
            0% {
                opacity: 1;
                filter: blur(0px) brightness(1);
                transform: scale(1);
            }
            50% {
                opacity: 0.7;
                filter: blur(8px) brightness(1.2);
                transform: scale(0.95);
            }
            100% {
                opacity: 1;
                filter: blur(0px) brightness(1);
                transform: scale(1);
            }
        }

        .nav-warp {
            animation: warp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Tab Flicker Effect */
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            10%, 20%, 30%, 40%, 60%, 70%, 80%, 90% { opacity: 0.3; }
            50% { opacity: 0.8; }
        }

        .nav-flicker {
            animation: flicker 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Sliding Highlight Bar */
        .nav-menu {
            position: relative;
        }

        .nav-highlight {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 9999px;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            pointer-events: none;
            z-index: 0;
        }

        .nav-btn {
            position: relative;
            z-index: 1;
            transition: color 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            background: transparent !important;
            border-color: transparent !important;
        }

        .nav-btn:hover {
            background: transparent !important;
            border-color: transparent !important;
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden text-zinc-100 selection:bg-brand-accent selection:text-black">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 h-20 flex items-center justify-between px-6 md:px-12 pointer-events-none">
        <!-- Logo -->
        <div class="pointer-events-auto flex items-center gap-4 cursor-pointer group" onclick="app.routerWithCooldown('home', this)">
            <!-- Restored Star Logo -->
            <div class="relative w-10 h-10 flex items-center justify-center transition-transform duration-300 group-hover:scale-110">
                <svg viewBox="0 0 100 100" class="w-full h-full drop-shadow-[0_0_8px_rgba(250,204,21,0.6)]">
                    <polygon points="50,5 60,40 95,50 60,60 50,95 40,60 5,50 40,40" fill="#facc15" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                </svg>
            </div>
            <span class="font-bold text-xl tracking-tight text-white group-hover:text-brand-accent transition-colors">MongolVibes</span>
        </div>

        <!-- Desktop Menu -->
        <div class="pointer-events-auto hidden md:flex items-center gap-2 bg-black/50 backdrop-blur-md border border-white/10 p-1.5 rounded-full shadow-lg nav-menu">
            <div class="nav-highlight" id="nav-highlight"></div>
            <button onclick="app.routerWithCooldown('home', this)" class="nav-btn px-6 py-2 rounded-full text-sm font-semibold transition-all" data-target="home">Overview</button>
            <button onclick="app.routerWithCooldown('community', this)" class="nav-btn px-6 py-2 rounded-full text-sm font-semibold transition-all" data-target="community">Season X</button>
            <button class="nav-btn px-6 py-2 rounded-full text-sm font-semibold transition-all text-zinc-500 cursor-not-allowed opacity-50">Events</button>
            <button onclick="app.routerWithCooldown('store', this)" class="nav-btn px-6 py-2 rounded-full text-sm font-semibold transition-all" data-target="store">Store</button>
            <a href="https://minecraft-mp.com/server/322276/vote/" target="_blank" class="nav-btn px-6 py-2 rounded-full text-sm font-semibold transition-all no-underline">Vote</a>
        </div>

        <!-- Status -->
        <div class="pointer-events-auto hidden md:flex flex-col items-end">
            <div class="flex items-center gap-2 text-xs font-mono text-zinc-500 bg-black/40 px-3 py-1 rounded border border-white/5">
                <span class="w-2 h-2 rounded-full bg-zinc-600 transition-colors duration-500" id="status-dot"></span>
                <span id="server-status">Pinging...</span>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Toggle -->
    <button onclick="document.querySelector('.mobile-menu').classList.toggle('hidden')" class="md:hidden fixed top-5 right-5 z-50 pointer-events-auto bg-brand-surface p-2 rounded border border-white/10 text-white">
        <i data-feather="menu"></i>
    </button>
    
    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu hidden fixed inset-0 bg-black/95 z-40 flex flex-col items-center justify-center gap-6 pointer-events-auto">
        <button onclick="app.routerWithCooldown('home', this); document.querySelector('.mobile-menu').classList.add('hidden')" class="text-3xl font-bold hover:text-brand-accent">Overview</button>
        <button onclick="app.routerWithCooldown('community', this); document.querySelector('.mobile-menu').classList.add('hidden')" class="text-3xl font-bold hover:text-brand-accent">Season X</button>
        <button class="text-3xl font-bold text-zinc-500 opacity-50 cursor-not-allowed">Events</button>
        <button onclick="app.routerWithCooldown('store', this); document.querySelector('.mobile-menu').classList.add('hidden')" class="text-3xl font-bold hover:text-brand-accent">Store</button>
        <a href="https://minecraft-mp.com/server/322276/vote/" target="_blank" class="text-3xl font-bold hover:text-brand-accent no-underline">Vote</a>
    </div>

    <!-- IP Modal -->
    <div id="ip-modal" class="modal-overlay" onclick="if(event.target === this) app.closeIPModal()">
        <div class="bg-brand-card border-2 border-brand-accent w-full max-w-2xl p-8 relative shadow-2xl rounded-2xl transform scale-100 transition-transform animate-slideUp">
            <button onclick="app.closeIPModal()" class="absolute top-4 right-4 text-zinc-500 hover:text-white transition-colors hover:scale-110 p-2">
                <i data-feather="x" class="w-6 h-6"></i>
            </button>
            
            <div class="flex items-center gap-3 mb-2">
                <i class="fas fa-gamepad text-2xl text-brand-accent"></i>
                <h3 class="text-3xl font-black text-white">Connect to MongolVibes</h3>
            </div>
            <p class="text-zinc-400 text-sm mb-8">Join Java & Bedrock Edition servers</p>
            
            <div class="grid md:grid-cols-2 gap-6">
                <!-- Server Address -->
                <div class="bg-black/30 p-6 rounded-lg border border-brand-accent/20 hover:border-brand-accent/50 transition-all">
                    <div class="flex items-center gap-2 mb-3">
                        <i class="fas fa-globe text-brand-accent"></i>
                        <label class="block text-xs uppercase text-zinc-400 font-bold tracking-wider">Server Address</label>
                    </div>
                    <code class="text-brand-accent font-mono text-2xl font-bold block mb-4">mnvibes.org</code>
                    <div class="text-xs text-zinc-500 mb-4">Port: <span class="text-brand-accent font-semibold">Default</span></div>
                    <div class="flex gap-2">
                        <button onclick="app.copyIPFromModal()" class="flex-1 bg-brand-accent text-black hover:bg-brand-accent/90 px-4 py-2 rounded-lg font-bold transition-all flex items-center justify-center gap-2">
                            <i class="fas fa-copy"></i>
                            Copy
                        </button>
                        <a href="minecraft://?addServer=MongolVibes:mnvibes.org:19132" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-bold transition-all flex items-center justify-center gap-2 no-underline">
                            <i class="fab fa-windows"></i>
                            Add to Bedrock
                        </a>
                    </div>
                
                </div>

                <!-- Online Players -->
                <div class="bg-black/30 p-6 rounded-lg border border-brand-accent/20 hover:border-brand-accent/50 transition-all">
                    <div class="flex items-center gap-2 mb-3">
                        <i class="fas fa-users text-brand-accent"></i>
                        <label class="block text-xs uppercase text-zinc-400 font-bold tracking-wider">Online Players</label>
                    </div>
                    <div class="text-2xl font-black text-white mb-4">
                        <span id="players-count-modal">--</span>
                        <span class="text-sm text-zinc-400 ml-2">players online</span>
                    </div>
                    <div id="players-list" class="flex flex-wrap gap-1.5 mb-4">
                        <span class="text-xs text-zinc-600 italic">Loading player heads...</span>
                    </div>
                </div>
            </div>

            <!-- Quick Links -->
            <div class="mt-8 grid grid-cols-3 gap-3">
                <a href="https://discord.gg/XKFtYsN7YF" target="_blank" class="bg-[#5865F2] hover:bg-[#4752C4] text-white py-3 px-4 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all hover:scale-105">
                    <i class="fab fa-discord"></i> Discord
                </a>
                <a href="https://m.me/j/AbZYKpgEhfuWj0xU/" target="_blank" class="bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg font-bold text-sm flex items-center justify-center gap-2 transition-all hover:scale-105">
                    <i class="fab fa-facebook-messenger"></i> Message
                </a>
                <button onclick="app.closeIPModal()" class="bg-zinc-800 hover:bg-zinc-700 text-white py-3 px-4 rounded-lg font-bold text-sm transition-all hover:scale-105">
                    Close
                </button>
            </div>

            <!-- Server Status Info -->
            <div class="mt-6 bg-brand-accent/10 border border-brand-accent/20 p-4 rounded-lg text-center">
                <div class="text-xs text-zinc-400">
                    <span class="inline-flex items-center gap-1.5">
                        <span class="w-2 h-2 rounded-full bg-green-500"></span>
                        Server is online and ready
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal (UPDATED) -->
    <div id="payment-modal" class="modal-overlay" onclick="if(event.target === this) app.closePaymentModal()">
        <div class="bg-brand-card border-2 border-brand-accent w-full max-w-5xl p-0 relative shadow-2xl overflow-hidden flex flex-row rounded-2xl animate-slideUp">
            <!-- Left Side - Header & Details -->
            <div class="w-1/2 bg-gradient-to-b from-brand-accent/20 to-brand-hyper/20 p-8 border-r border-brand-border relative overflow-hidden flex flex-col">
                <div class="absolute -top-20 -right-20 w-40 h-40 bg-brand-accent/10 rounded-full blur-3xl"></div>
                <div class="relative z-10 flex-1">
                    <h3 class="text-4xl font-black text-white" id="pay-rank-name">Rank Name</h3>
                    <div class="text-brand-accent font-bold text-2xl mt-2" id="pay-rank-price">0 MNT</div>
                    <p class="text-zinc-400 text-sm mt-3 mb-8">One-time permanent purchase</p>
                    
                    <h4 class="text-sm font-bold text-brand-accent uppercase tracking-widest mb-4">What You Get</h4>
                    <ul id="pay-rank-perks" class="space-y-3">
                        <!-- Perks injected via JS -->
                    </ul>

                    <!-- Important Notice -->
                    <div class="bg-yellow-900/30 border border-yellow-600/50 p-4 rounded-xl flex gap-3 items-start mt-8">
                        <i class="fas fa-exclamation-circle text-yellow-400 text-lg flex-shrink-0 mt-0.5"></i>
                        <div>
                            <p class="text-yellow-100 text-xs font-semibold mb-1">Important</p>
                            <p class="text-yellow-200 text-xs leading-relaxed">
                                Write your <span class="font-bold text-white bg-yellow-900/50 px-2 py-1 rounded">Minecraft Username</span> in the payment description!
                            </p>
                        </div>
                    </div>
                </div>

                <button onclick="app.closePaymentModal()" class="text-zinc-500 hover:text-white transition-colors hover:scale-110 absolute top-4 right-4">
                    <i data-feather="x" class="w-6 h-6"></i>
                </button>
            </div>

            <!-- Right Side - Bank Details -->
            <div class="w-1/2 p-8 bg-brand-bg/50 flex flex-col">
                <div class="mb-6">
                    <h4 class="text-lg font-bold text-white mb-6 flex items-center gap-2">
                        <i class="fas fa-university text-brand-accent"></i>
                        Bank Transfer Details
                    </h4>
                    
                    <div class="space-y-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-black/20 p-4 rounded-lg">
                                <div class="text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-2">Bank Name</div>
                                <div class="font-bold text-white text-lg">KHAN BANK</div>
                            </div>
                            <div class="bg-black/20 p-4 rounded-lg">
                                <div class="text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-2">Account Holder</div>
                                <div class="font-bold text-white text-lg">UCHRAL</div>
                            </div>
                        </div>

                        <div class="bg-black/20 p-4 rounded-lg">
                            <div class="text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-3">Account Number</div>
                            <div class="flex items-center gap-2">
                                <code class="font-mono text-base text-brand-accent bg-black/40 px-4 py-3 rounded flex-1 font-bold tracking-wider">5303195240</code>
                                <button onclick="navigator.clipboard.writeText('5303195240'); this.innerHTML='<i class=&quot;fas fa-check text-green-400&quot;></i>'; setTimeout(() => this.innerHTML='<i class=&quot;fas fa-copy&quot;></i>', 2000)" class="p-3 bg-black/40 hover:bg-brand-accent/20 rounded transition-all text-zinc-400 hover:text-brand-accent">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>

                        <div class="bg-black/20 p-4 rounded-lg">
                            <div class="text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-3">IBAN</div>
                            <div class="flex items-center gap-2">
                                <code class="font-mono text-base text-zinc-300 bg-black/40 px-4 py-3 rounded flex-1 font-bold">MN98000500</code>
                                <button onclick="navigator.clipboard.writeText('MN98000500'); this.innerHTML='<i class=&quot;fas fa-check text-green-400&quot;></i>'; setTimeout(() => this.innerHTML='<i class=&quot;fas fa-copy&quot;></i>', 2000)" class="p-3 bg-black/40 hover:bg-brand-accent/20 rounded transition-all text-zinc-400 hover:text-brand-accent">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="pt-6 border-t border-brand-border">
                    <p class="text-zinc-400 text-sm mb-4">
                        Have issues with payment? 
                    </p>
                    <a href="https://discord.gg/XKFtYsN7YF" target="_blank" class="inline-flex items-center gap-2 bg-brand-accent text-black px-6 py-2 rounded-lg font-bold hover:bg-brand-accent/90 transition-all w-full justify-center">
                        <i class="fab fa-discord"></i>
                        Contact Support
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Screenshot Modal -->
    <div id="screenshot-modal" class="modal-overlay" onclick="if(event.target === this) app.closeScreenshotModal()">
        <div class="fixed inset-0 bg-black/90 flex items-center justify-center z-1000 p-4">
            <button onclick="app.closeScreenshotModal()" class="absolute top-4 right-4 text-white hover:text-brand-accent transition-colors z-10">
                <i data-feather="x" class="w-8 h-8"></i>
            </button>
            <img id="screenshot-image" src="" alt="Screenshot" class="max-w-6xl max-h-[90vh] object-contain rounded-lg shadow-2xl">
        </div>
    </div>

    <!-- Main Content -->
    <main id="app-container" class="flex-1 pt-24 overflow-y-auto scroll-smooth">
        <div id="content-slot" class="px-6 md:px-12 pb-24 max-w-7xl mx-auto min-h-[80vh]"></div>

        <footer class="border-t border-white/5 bg-black/20 py-12 px-6">
            <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-12 text-sm text-zinc-500">
                <div>
                    <div class="flex items-center gap-2 text-white font-bold mb-4">
                        <!-- Tiny logo in footer -->
                        <svg viewBox="0 0 100 100" class="w-6 h-6">
                             <polygon points="50,5 60,40 95,50 60,60 50,95 40,60 5,50 40,40" fill="#facc15" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                        </svg>
                        MongolVibes
                    </div>
                    <p class="leading-relaxed">
                        Built for the players, by the players. No corporate algorithms, Made in Mongolia.
                    </p>
                </div>
                <div>
                    <h5 class="text-white font-bold mb-4">Support & Community</h5>
                    <ul class="space-y-2">
                        <li><a href="https://support.mnvibes.org" target="_blank" class="hover:text-brand-accent transition-colors">Help Center</a></li>
                        <li><a href="https://support.mnvibes.org/appeal" target="_blank" class="hover:text-brand-accent transition-colors">Ban Appeals</a></li>
                        <li><a href="https://support.mnvibes.org/apply" target="_blank" class="hover:text-brand-accent transition-colors">Staff Applications</a></li>
                    </ul>
                </div>
                <div class="text-right">
                    <p class="font-mono text-xs opacity-50">&copy; 2025 MongolVibes Network.</p>
                    <p class="font-mono text-xs opacity-50 mt-1">Not affiliated with Mojang AB.</p>
                </div>
            </div>
        </footer>
    </main>

    <!-- App Logic -->
    <script>
        const app = {
            state: {
                serverIP: 'mnvibes.org',
                currentPage: null,
                visitedPages: new Set(),
                statusCache: null
            },
            
            // Templates
            templates: {
                home: (animated) => `
                    <div class="${animated ? 'animate-enter' : ''}">
                        
                        <!-- Hero -->
                        <div class="grid lg:grid-cols-2 gap-12 items-center py-12 md:py-20 ${animated ? 'animate-enter-slide' : ''}">
                            <div class="order-2 lg:order-1">
                                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-brand-accent/10 border border-brand-accent/20 text-brand-accent text-xs font-bold tracking-wider mb-6 ${animated ? 'stagger-1' : ''}">
                                    <span class="w-2 h-2 rounded-full bg-brand-accent animate-pulse"></span>
                                    ONLINE NOW &bull; JAVA & BEDROCK
                                </div>
                                
                                <h1 class="text-5xl md:text-7xl font-bold text-white leading-tight mb-6 tracking-tight ${animated ? 'stagger-2' : ''}">
                                    Survival,<br>
                                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-accent to-brand-hyper">Amplified.</span>
                                </h1>
                                
                                <p class="text-lg text-zinc-400 leading-relaxed max-w-lg mb-8 ${animated ? 'stagger-3' : ''}">
                                    Hands down the best Minecraft survival experience in Mongolia. We've got custom terrain, a player-driven economy, and a community that actually feels like home.
                                </p>
                                
                                <div class="flex flex-col sm:flex-row gap-4 ${animated ? 'stagger-4' : ''}">
                                    <button onclick="app.openIPModal()" class="px-8 py-4 bg-white text-black font-bold text-lg rounded hover:bg-zinc-200 hover:shadow-offset hover:-translate-y-1 transition-all shadow-offset duration-200">
                                        Join Server
                                    </button>
                                    <a href="https://discord.gg/XKFtYsN7YF" target="_blank" class="px-8 py-4 bg-transparent border border-zinc-700 text-white font-bold text-lg rounded hover:bg-zinc-800 transition-all flex items-center justify-center gap-2">
                                        <i class="fab fa-discord"></i> Community
                                    </a>
                                </div>
                            </div>

                            <div class="order-1 lg:order-2 flex justify-center lg:justify-end ${animated ? 'stagger-2' : ''}">
                                <div class="relative w-full max-w-md aspect-video rounded bg-zinc-900 border border-white/10 shadow-2xl overflow-hidden group">
                                    <img src="https://media.discordapp.net/attachments/1010070555283689482/1445168723299401950/Picsart_25-12-02_05-37-19-033.jpg?ex=6930af41&is=692f5dc1&hm=ef7802a4aa914efe6cb4fcb24968470ee54584515b47f9a1a44d30ffff238f47&=&format=webp&width=1520&height=856" class="w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-700">
                                </div>
                            </div>
                        </div>

                        <!-- Feature Grid / Stack Cards -->
                        <div class="mt-24">
                            <h2 class="text-zinc-500 font-mono text-sm uppercase tracking-widest mb-8 border-b border-zinc-800 pb-2">Why We Are Different</h2>
                            
                            <div class="grid md:grid-cols-3 gap-6">
                                <!-- Card 1 -->
                                <div class="bg-brand-surface p-6 rounded border border-white/5 hover:border-brand-accent/50 transition-all group ${animated ? 'stagger-3 animate-enter-slide' : ''}">
                                    <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg">
                                        <i class="fas fa-gamepad text-2xl text-white"></i>
                                    </div>
                                    <h3 class="text-xl font-bold text-white mb-2">Unique Gamemodes</h3>
                                    <p class="text-zinc-400 text-sm leading-relaxed">
                                        From classic Survival to intense Prison, we offer custom-tailored experiences for every player.
                                    </p>
                                </div>

                                <!-- Card 2 -->
                                <div class="bg-brand-surface p-6 rounded border border-white/5 hover:border-brand-hyper/50 transition-all group ${animated ? 'stagger-4 animate-enter-slide' : ''}">
                                    <div class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg">
                                        <i class="fas fa-users text-2xl text-white"></i>
                                    </div>
                                    <h3 class="text-xl font-bold text-white mb-2">Vibrant Community</h3>
                                    <p class="text-zinc-400 text-sm leading-relaxed">
                                        Join our active Discord to participate in events, find teammates, and make new friends.
                                    </p>
                                </div>

                                <!-- Card 3 -->
                                <div class="bg-brand-surface p-6 rounded border border-white/5 hover:border-white/30 transition-all group ${animated ? 'stagger-5 animate-enter-slide' : ''}">
                                    <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mb-4 group-hover:scale-110 transition-transform shadow-lg">
                                        <i class="fas fa-sync text-2xl text-white"></i>
                                    </div>
                                    <h3 class="text-xl font-bold text-white mb-2">Frequent Updates</h3>
                                    <p class="text-zinc-400 text-sm leading-relaxed">
                                        We are constantly adding new features, fixing bugs, and listening to player feedback to improve the server.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                community: (animated) => `
                    <div class="${animated ? 'animate-enter' : ''}">
                        <div class="text-center py-16 ${animated ? 'animate-enter-slide' : ''}">
                            <div class="inline-block px-4 py-1 bg-red-500/10 text-red-500 border border-red-500/20 rounded-full text-xs font-bold tracking-widest mb-4">CURRENT SEASON</div>
                            <h2 class="text-6xl md:text-8xl font-black text-white mb-6 uppercase italic tracking-tighter">LIFESTEAL <span class="text-red-600">X</span></h2>
                            <p class="text-xl text-zinc-400 max-w-2xl mx-auto">
                                The stakes are higher than ever. Steal hearts, raid bases, and fight your way to the top of the leaderboard.
                            </p>
                        </div>

                        <div class="grid md:grid-cols-2 gap-4 max-w-4xl mx-auto">
                            <div class="bg-gradient-to-br from-zinc-900 to-black p-8 border border-white/10 rounded-xl relative overflow-hidden group ${animated ? 'stagger-2 animate-enter-slide' : ''}">
                                <div class="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity">
                                    <i class="fas fa-heart text-9xl text-red-500"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">How It Works</h3>
                                <p class="text-zinc-400 text-sm mb-4">
                                    It's simple: Kill a player, get a heart. Die to a player, lose a heart. 
                                </p>
                                <div class="text-xs text-zinc-500 font-mono">
                                    If you hit 0 hearts, you're banned for 24 hours. Be careful.
                                </div>
                            </div>

                            <div class="bg-gradient-to-br from-zinc-900 to-black p-8 border border-white/10 rounded-xl relative overflow-hidden group ${animated ? 'stagger-3 animate-enter-slide' : ''}">
                                <div class="absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity">
                                    <i class="fas fa-skull text-9xl text-white"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-white mb-2">Total Anarchy</h3>
                                <p class="text-zinc-400 text-sm mb-4">
                                    No land claims. Your base is only safe if you hide it well. Build underground, in the sky, or thousands of blocks out.
                                </p>
                                <div class="text-xs text-zinc-500 font-mono">
                                    Griefing is allowed. Trust no one.
                                </div>
                            </div>
                        </div>

                        <!-- Screenshots Section -->
                        <div class="mt-16">
                            <h3 class="text-3xl font-black text-white mb-8">Season X Snapshots</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl">
                                <div class="relative overflow-hidden rounded-lg cursor-pointer group h-48 bg-black/40 border border-white/10 hover:border-brand-accent/50 transition-all" onclick="app.openScreenshotModal('https://i.imgur.com/zz13DCW.jpeg')">
                                    <img src="https://i.imgur.com/zz13DCW.jpeg" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all flex items-center justify-center">
                                        <i class="fas fa-expand text-2xl text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                    </div>
                                </div>
                                
                                <div class="relative overflow-hidden rounded-lg cursor-pointer group h-48 bg-black/40 border border-white/10 hover:border-brand-accent/50 transition-all" onclick="app.openScreenshotModal('https://i.imgur.com/zz13DCW.jpeg')">
                                    <img src="https://i.imgur.com/zz13DCW.jpeg" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all flex items-center justify-center">
                                        <i class="fas fa-expand text-2xl text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                    </div>
                                </div>
                                
                                <div class="relative overflow-hidden rounded-lg cursor-pointer group h-48 bg-black/40 border border-white/10 hover:border-brand-accent/50 transition-all" onclick="app.openScreenshotModal('https://i.imgur.com/zz13DCW.jpeg')">
                                    <img src="https://i.imgur.com/zz13DCW.jpeg" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300">
                                    <div class="absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all flex items-center justify-center">
                                        <i class="fas fa-expand text-2xl text-white opacity-0 group-hover:opacity-100 transition-opacity"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `,
                store: (animated) => `
                    <div class="pb-12">
                        <div class="flex flex-col items-center mb-16 pt-8 animate-slideUp">
                            <h2 class="text-6xl md:text-7xl font-black text-white mb-6">Support The Server</h2>
                            <p class="text-zinc-400 text-center max-w-2xl text-lg leading-relaxed">
                                Help us keep MongolVibes running strong. Your support directly funds server infrastructure, development, and new features. No pay-to-win mechanics‚Äîjust cosmetics and conveniences.
                            </p>
                        </div>

                        <div class="flex flex-col md:flex-row gap-6 max-w-5xl mx-auto">
                            
                            <!-- Light Rank (Green Style) -->
                            <div class="relative flex-1 bg-gradient-to-br from-brand-accent/50 to-brand-accent/30 rounded-xl p-5 shadow-lg transform transition-all hover:scale-105 overflow-hidden cursor-pointer group animate-slideUp" style="animation-delay: 0.1s" onclick="app.openPaymentModal('Light Rank', '10,000 MNT', ['White Chat Color', '3 Sethomes', 'Priority Queue', 'Kit Light'])">
                                <div class="absolute top-2 right-2 bg-white/20 backdrop-blur-md text-white text-xs font-bold px-2 py-1 rounded-full border border-white/30 uppercase tracking-widest">
                                    Entry Level
                                </div>
                                <div class="absolute -top-32 -right-32 w-64 h-64 bg-brand-accent/20 rounded-full blur-3xl"></div>

                                <div class="relative z-10">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i class="fas fa-leaf text-2xl text-white drop-shadow-lg"></i>
                                        <h3 class="text-2xl font-black text-white">Light Rank</h3>
                                    </div>
                                    <p class="text-white/80 font-semibold text-xs mb-3">(One-time purchase)</p>
                                    
                                    <div class="space-y-2 mb-4">
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">White Chat Color</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">3 Homes</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">Priority Queue</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">Starter Kit</span>
                                        </div>
                                    </div>

                                    <div class="inline-block bg-white text-zinc-700 px-6 py-2 rounded-lg font-black text-lg hover:bg-white/90 transition-all shadow-lg">
                                        10,000‚ÇÆ
                                    </div>
                                </div>
                            </div>

                            <!-- Hyper Rank (Pink Style - Popular) -->
                            <div class="relative flex-1 bg-gradient-to-br from-brand-hyper/50 to-brand-hyper/30 rounded-xl p-5 shadow-lg transform transition-all hover:scale-105 overflow-hidden cursor-pointer group animate-slideUp" style="animation-delay: 0.2s" onclick="app.openPaymentModal('Hyper Rank', '25,000 MNT', ['RGB Chat Color', 'Unlimited Sethomes', '/fly in Lobby', 'Custom Particles', 'Kit Hyper'])">
                                <div class="absolute top-2 right-2 bg-yellow-300 text-black text-xs font-black px-2 py-1 rounded-full uppercase tracking-widest shadow-lg">
                                    ‚≠ê Popular
                                </div>
                                <div class="absolute -top-32 -right-32 w-64 h-64 bg-brand-hyper/20 rounded-full blur-3xl"></div>

                                <div class="relative z-10">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i class="fas fa-crown text-2xl text-white drop-shadow-lg"></i>
                                        <h3 class="text-2xl font-black text-white">Hyper Rank</h3>
                                    </div>
                                    <p class="text-white/80 font-semibold text-xs mb-3">(One-time purchase)</p>
                                    
                                    <div class="space-y-2 mb-4">
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">RGB Chat</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">Unlimited Homes</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">/fly in Lobby</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">Particles</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-white/90 text-sm">
                                            <i class="fas fa-check-circle text-sm"></i>
                                            <span class="font-semibold">Premium Kit</span>
                                        </div>
                                    </div>

                                    <div class="inline-block bg-white text-brand-hyper px-6 py-2 rounded-lg font-black text-lg hover:bg-white/90 transition-all shadow-lg">
                                        25,000‚ÇÆ
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- Lifesteal Items Section -->
                        <div class="flex flex-col md:flex-row gap-4 max-w-5xl mx-auto mt-8 justify-center">
                            
                            <!-- Lifesteal Key -->
                            <div class="relative bg-gradient-to-br from-red-600/50 to-red-600/30 rounded-lg p-3 shadow-md transform transition-all hover:scale-105 overflow-hidden cursor-pointer group animate-slideUp" style="animation-delay: 0.3s; flex: 0 0 auto; width: 200px;" onclick="app.openPaymentModal('Lifesteal Key', '3,000 MNT', ['1x Lifesteal Key', 'Instant Delivery', 'Drop from mobs'])">
                                <div class="absolute top-1 right-1 bg-yellow-300 text-black text-xs font-black px-2 py-0.5 rounded-full uppercase tracking-widest shadow-lg text-xxs">
                                    üîë Item
                                </div>
                                <div class="absolute -top-24 -right-24 w-48 h-48 bg-red-600/20 rounded-full blur-3xl"></div>

                                <div class="relative z-10">
                                    <div class="flex items-center gap-1.5 mb-1">
                                        <i class="fas fa-key text-lg text-white drop-shadow-lg"></i>
                                        <h3 class="text-lg font-black text-white">Key</h3>
                                    </div>
                                    <p class="text-white/80 font-semibold text-xs mb-2">(One-time)</p>
                                    
                                    <div class="space-y-1 mb-3">
                                        <div class="flex items-center gap-1.5 text-white/90 text-xs">
                                            <i class="fas fa-check-circle text-xs"></i>
                                            <span class="font-semibold">1x Key</span>
                                        </div>
                                        <div class="flex items-center gap-1.5 text-white/90 text-xs">
                                            <i class="fas fa-check-circle text-xs"></i>
                                            <span class="font-semibold">Instant</span>
                                        </div>
                                    </div>

                                    <div class="inline-block bg-white text-red-600 px-3 py-1 rounded-md font-black text-sm hover:bg-white/90 transition-all shadow-md">
                                        3,000‚ÇÆ
                                    </div>
                                </div>
                            </div>

                            <!-- Lifesteal Starter Kit -->
                            <div class="relative bg-gradient-to-br from-purple-600/50 to-purple-600/30 rounded-lg p-3 shadow-md transform transition-all hover:scale-105 overflow-hidden cursor-pointer group animate-slideUp" style="animation-delay: 0.4s; flex: 0 0 auto; width: 200px;" onclick="app.openPaymentModal('Lifesteal Starter Kit', '5,000 MNT', ['Starter Gear', 'Food & Resources', 'Instant Delivery'])">
                                <div class="absolute top-1 right-1 bg-yellow-300 text-black text-xs font-black px-2 py-0.5 rounded-full uppercase tracking-widest shadow-lg text-xxs">
                                    üåë Gear
                                </div>
                                <div class="absolute -top-24 -right-24 w-48 h-48 bg-purple-600/20 rounded-full blur-3xl"></div>

                                <div class="relative z-10">
                                    <div class="flex items-center gap-1.5 mb-1">
                                        <i class="fas fa-backpack text-lg text-white drop-shadow-lg"></i>
                                        <h3 class="text-lg font-black text-white">Kit</h3>
                                    </div>
                                    <p class="text-white/80 font-semibold text-xs mb-2">(One-time)</p>
                                    
                                    <div class="space-y-1 mb-3">
                                        <div class="flex items-center gap-1.5 text-white/90 text-xs">
                                            <i class="fas fa-check-circle text-xs"></i>
                                            <span class="font-semibold">Gear</span>
                                        </div>
                                        <div class="flex items-center gap-1.5 text-white/90 text-xs">
                                            <i class="fas fa-check-circle text-xs"></i>
                                            <span class="font-semibold">Food</span>
                                        </div>
                                    </div>

                                    <div class="inline-block bg-white text-purple-600 px-3 py-1 rounded-md font-black text-sm hover:bg-white/90 transition-all shadow-md">
                                        5,000‚ÇÆ
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="text-center mt-16 animate-slideUp" style="animation-delay: 0.3s">
                            <div class="bg-brand-card border border-brand-border rounded-lg p-6 max-w-2xl mx-auto">
                                <p class="text-zinc-400 text-sm mb-3">
                                    <i class="fas fa-shield-alt text-brand-accent mr-2"></i>
                                    Secure payments via Khan Bank. All purchases are verified and instant.
                                </p>
                                <p class="text-zinc-500 text-xs">
                                    Questions? Reach out on Discord‚Äîour team responds within minutes.
                                </p>
                            </div>
                        </div>
                    </div>
                `
            },

            // Router
            routerWithCooldown: (pageId, element) => {
                if (app.state.currentPage === pageId) return;
                
                // Add flicker effect
                const container = document.getElementById('content-slot');
                container.classList.add('nav-flicker');
                
                app.router(pageId);
                app.updateNavHighlight(element);
                
                // Remove flicker class after animation
                setTimeout(() => {
                    container.classList.remove('nav-flicker');
                }, 300);
            },

            updateNavHighlight: (element) => {
                if (!element || !element.dataset.target) return;
                const highlight = document.getElementById('nav-highlight');
                if (!highlight) return;
                
                const left = element.offsetLeft;
                const width = element.offsetWidth;
                
                highlight.style.left = left + 'px';
                highlight.style.width = width + 'px';
            },

            router: (pageId) => {
                const container = document.getElementById('content-slot');
                const shouldAnimate = !app.state.visitedPages.has(pageId);
                app.state.visitedPages.add(pageId);
                app.state.currentPage = pageId;

                // Apply warp effect
                container.classList.add('nav-warp');
                
                setTimeout(() => {
                    // Update Visuals
                    document.querySelectorAll('.nav-btn').forEach(btn => {
                        const isTarget = btn.dataset.target === pageId;
                        btn.classList.toggle('bg-white/10', isTarget);
                        btn.classList.toggle('text-white', isTarget);
                        btn.classList.toggle('text-zinc-400', !isTarget);
                    });

                    // Render
                    if (app.templates[pageId]) {
                        container.innerHTML = app.templates[pageId](shouldAnimate);
                        feather.replace();
                        document.getElementById('app-container').scrollTo(0, 0);
                    }
                    
                    container.classList.remove('nav-warp');
                }, 200);
            },

            // API & Logic
            fetchStatus: async () => {
                const dot = document.getElementById('status-dot');
                const text = document.getElementById('server-status');
                
                try {
                    const response = await fetch(`https://api.mcsrvstat.us/2/${app.state.serverIP}`);
                    const data = await response.json();
                    app.state.statusCache = data;

                    if (data.online) {
                        dot.classList.remove('bg-zinc-600', 'bg-red-500');
                        dot.classList.add('bg-green-500', 'shadow-[0_0_10px_rgba(34,197,94,0.6)]');
                        text.innerHTML = `<span class="text-zinc-300">${data.players.online} Online</span>`;
                    } else {
                        dot.classList.add('bg-red-500');
                        text.innerText = "Offline";
                    }
                } catch (e) {
                    text.innerText = "API Error";
                }
            },

            openIPModal: () => {
                const modal = document.getElementById('ip-modal');
                modal.classList.add('active');
                if (app.state.statusCache && app.state.statusCache.players) {
                    document.getElementById('players-count-modal').innerText = app.state.statusCache.players.online + " / " + app.state.statusCache.players.max;
                    const list = document.getElementById('players-list');
                    if(app.state.statusCache.players.list) {
                        list.innerHTML = app.state.statusCache.players.list.map(p => 
                            `<img src="https://mc-heads.net/avatar/${p}/32" class="w-8 h-8 rounded bg-zinc-800" title="${p}">`
                        ).join('');
                    } else {
                        list.innerHTML = `<span class="text-xs text-zinc-600">No players list available</span>`;
                    }
                }
            },

            closeIPModal: () => {
                document.getElementById('ip-modal').classList.remove('active');
            },

            copyIPFromModal: () => {
                navigator.clipboard.writeText(app.state.serverIP);
                const btn = event.target.closest('button');
                const old = btn.innerText;
                btn.innerText = "Copied!";
                setTimeout(() => {
                    btn.innerText = old;
                }, 1500);
            },

            // New Payment Modal Logic
            openPaymentModal: (rank, price, perks) => {
                const modal = document.getElementById('payment-modal');
                document.getElementById('pay-rank-name').innerText = rank;
                document.getElementById('pay-rank-price').innerText = price;
                
                const perksContainer = document.getElementById('pay-rank-perks');
                perksContainer.innerHTML = perks.map(p => `<li class="flex items-center gap-2"><i class="fas fa-check text-brand-accent text-xs"></i> ${p}</li>`).join('');
                
                modal.classList.add('active');
            },

            closePaymentModal: () => {
                document.getElementById('payment-modal').classList.remove('active');
            },

            openScreenshotModal: (imageSrc) => {
                document.getElementById('screenshot-image').src = imageSrc;
                document.getElementById('screenshot-modal').classList.add('active');
            },

            closeScreenshotModal: () => {
                document.getElementById('screenshot-modal').classList.remove('active');
            },

            init: () => {
                app.router('home');
                app.fetchStatus();
                setInterval(app.fetchStatus, 30000);
                
                // Initialize nav highlight on first button
                setTimeout(() => {
                    const firstBtn = document.querySelector('[data-target="home"]');
                    if (firstBtn) app.updateNavHighlight(firstBtn);
                }, 50);
            }
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', app.init);
    </script>
</body>
</html>
